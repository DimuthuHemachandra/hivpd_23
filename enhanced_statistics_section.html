<!-- Enhanced Patient Recruitment Statistics Section -->
<!-- This replaces the statistics section in index.html (lines 212-304) -->

<section id="statistics" class="section statistics-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Patient Recruitment Statistics</h2>
            <p class="section-subtitle">
                Interactive visualization of participant enrollment, demographics, and progress
            </p>
        </div>

        <!-- Quick Summary Cards -->
        <div class="stats-overview">
            <div class="overview-card clickable" onclick="window.EnhancedChartManager.expandDiagnosis('HIV')">
                <h3>HIV Participants</h3>
                <p class="overview-number" id="hivCount">95</p>
                <p class="overview-label">38.5% of total</p>
                <div class="click-hint">Click for details</div>
            </div>
            <div class="overview-card clickable" onclick="window.EnhancedChartManager.expandDiagnosis('PD')">
                <h3>PD Participants</h3>
                <p class="overview-number" id="pdCount">82</p>
                <p class="overview-label">33.2% of total</p>
                <div class="click-hint">Click for details</div>
            </div>
            <div class="overview-card clickable" onclick="window.EnhancedChartManager.expandDiagnosis('Controls')">
                <h3>Control Participants</h3>
                <p class="overview-number" id="controlsCount">70</p>
                <p class="overview-label">28.3% of total</p>
                <div class="click-hint">Click for details</div>
            </div>
            <div class="overview-card clickable" onclick="window.EnhancedChartManager.expandCompletion()">
                <h3>Completion Rate</h3>
                <p class="overview-number" id="completionRate">86.6%</p>
                <p class="overview-label">Both tests complete</p>
                <div class="click-hint">Click for details</div>
            </div>
        </div>

        <!-- Summary At a Glance -->
        <div class="summary-section">
            <h3 class="subsection-title">Summary At a Glance</h3>
            <div class="charts-grid-summary">
                <div class="chart-wrapper">
                    <h4 class="chart-title">Diagnosis Distribution</h4>
                    <canvas id="diagnosisChart"></canvas>
                    <p class="chart-hint">Click on a segment for detailed breakdown</p>
                </div>
                <div class="chart-wrapper">
                    <h4 class="chart-title">Age Distribution by Diagnosis</h4>
                    <canvas id="ageByDiagnosisChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <h4 class="chart-title">Completion Status</h4>
                    <canvas id="completionChart"></canvas>
                    <p class="chart-hint">Click for breakdown by diagnosis</p>
                </div>
                <div class="chart-wrapper">
                    <h4 class="chart-title">Upcoming Visits</h4>
                    <canvas id="upcomingVisitsChart"></canvas>
                    <p class="chart-hint">Click for breakdown by diagnosis</p>
                </div>
            </div>
        </div>

        <!-- Statistical Differences -->
        <div class="statistical-section">
            <h3 class="subsection-title">Statistical Differences Between Groups</h3>
            <div id="statisticalDifferences" class="stat-differences-container">
                <!-- Populated by JavaScript -->
            </div>
        </div>

        <!-- Expandable: HIV Group Details -->
        <div class="expandable-section" id="hivDetail">
            <div class="expandable-header">
                <h3>
                    <i class="fas fa-virus"></i> HIV Group - Detailed Analysis
                    <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.classList.remove('expanded')">
                        <i class="fas fa-times"></i>
                    </button>
                </h3>
            </div>
            <div class="expandable-content">
                <div class="detail-grid">
                    <div class="detail-card">
                        <h4>Gender Distribution</h4>
                        <canvas id="hivGenderChart"></canvas>
                    </div>
                    <div class="detail-card">
                        <h4>Completion Status</h4>
                        <div id="hivCompletion" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    <div class="detail-card">
                        <h4>Upcoming Visits</h4>
                        <div id="hivVisits" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expandable: PD Group Details -->
        <div class="expandable-section" id="pdDetail">
            <div class="expandable-header">
                <h3>
                    <i class="fas fa-brain"></i> Parkinson's Disease Group - Detailed Analysis
                    <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.classList.remove('expanded')">
                        <i class="fas fa-times"></i>
                    </button>
                </h3>
            </div>
            <div class="expandable-content">
                <div class="detail-grid">
                    <div class="detail-card">
                        <h4>Gender Distribution</h4>
                        <canvas id="pdGenderChart"></canvas>
                    </div>
                    <div class="detail-card">
                        <h4>Completion Status</h4>
                        <div id="pdCompletion" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    <div class="detail-card">
                        <h4>Upcoming Visits</h4>
                        <div id="pdVisits" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expandable: Controls Group Details -->
        <div class="expandable-section" id="controlsDetail">
            <div class="expandable-header">
                <h3>
                    <i class="fas fa-user-check"></i> Control Group - Detailed Analysis
                    <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.classList.remove('expanded')">
                        <i class="fas fa-times"></i>
                    </button>
                </h3>
            </div>
            <div class="expandable-content">
                <div class="detail-grid">
                    <div class="detail-card">
                        <h4>Gender Distribution</h4>
                        <canvas id="controlsGenderChart"></canvas>
                    </div>
                    <div class="detail-card">
                        <h4>Completion Status</h4>
                        <div id="controlsCompletion" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    <div class="detail-card">
                        <h4>Upcoming Visits</h4>
                        <div id="controlsVisits" class="stats-list">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expandable: Completion Details -->
        <div class="expandable-section" id="completionDetail">
            <div class="expandable-header">
                <h3>
                    <i class="fas fa-check-circle"></i> Completion Status - Detailed Breakdown
                    <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.classList.remove('expanded')">
                        <i class="fas fa-times"></i>
                    </button>
                </h3>
            </div>
            <div class="expandable-content">
                <div class="detail-full">
                    <h4>Completion Status by Diagnosis Group</h4>
                    <canvas id="completionByDiagnosisChart"></canvas>
                    <div class="completion-legend">
                        <p><strong>Overall Statistics:</strong></p>
                        <ul>
                            <li>Cognitive Testing Complete: 231 participants (93.5%)</li>
                            <li>Scans Complete: 225 participants (91.1%)</li>
                            <li>Both Complete: 214 participants (86.6%)</li>
                            <li>Pending: 13 participants</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expandable: Upcoming Visits Details -->
        <div class="expandable-section" id="upcomingVisitsDetail">
            <div class="expandable-header">
                <h3>
                    <i class="fas fa-calendar-alt"></i> Upcoming Visits - Detailed Schedule
                    <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.classList.remove('expanded')">
                        <i class="fas fa-times"></i>
                    </button>
                </h3>
            </div>
            <div class="expandable-content">
                <div class="detail-full">
                    <h4>Upcoming Visits by Diagnosis Group</h4>
                    <canvas id="upcomingVisitsByDiagnosisChart"></canvas>
                    <div class="visits-legend">
                        <p><strong>Total Scheduled Visits:</strong></p>
                        <ul>
                            <li>Next Week: 12 visits</li>
                            <li>Next Month: 30 visits</li>
                            <li>Next Quarter: 19 visits</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Timeline Section -->
        <div class="timeline-section">
            <h3 class="subsection-title">Recruitment Timeline - Interactive</h3>
            <p class="subsection-description">Hover over data points to see detailed recruitment information for each month</p>
            <div class="chart-wrapper-full">
                <canvas id="enhancedTimelineChart"></canvas>
            </div>
        </div>

    </div>
</section>
